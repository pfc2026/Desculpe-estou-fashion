<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moda Masculina - Desculpe, Estou Fashion</title>
    <link rel="stylesheet" href="css/style5.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="navbar">
        <div class="menu-icon">
            <i class="fas fa-bars"></i>
        </div>
        <a href="index.html" class="login-icon" title="Fazer Login">
            <i class="fas fa-user-circle"></i>
        </a>
        <div class="logo-container">
            <img src="compras/logo.png" alt="Logo" style="width: 30px; height: 30px; border-radius: 50%;">
            <span class="logo-text">Desculpe,<br>Estou Fashion</span>
        </div>
        <ul class="nav-links">
            <li><a href="index3.html">Recomendados</a></li>
            <li><a href="masculino.html">Masculino</a></li>
            <li><a href="feminino.html">Feminino</a></li>
            <li><a href="contato.html">Contato</a></li>
        </ul>
        <div class="search-bar">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Pesquisar...">
            <i class="fas fa-times close-icon"></i>
        </div>
        <div class="cart-icon">
             <a href="carrinho.html"><i class="fas fa-shopping-cart"></i></a>
        </div>
    </header>

    <main class="product-grid-container" id="product-container">
        <!-- Products will be loaded here -->
    </main>

    <footer class="footer">
        <p>&copy; 2025 Todos os direitos reservados Desculpe, Estou Fashion</p>
    </footer>

    <script>
        async function loadProducts() {
            try {
                const response = await fetch('http://localhost:3000/api/products');
                const products = await response.json();
                const container = document.getElementById('product-container');
                container.innerHTML = '';

                const masculineProducts = products.filter(p => p.categoria === 'Masculino');
                if (masculineProducts.length === 0) {
                    container.innerHTML = '<p>Nenhum produto masculino dispon√≠vel no momento.</p>';
                    return;
                }

                masculineProducts.forEach(product => {
                    const item = document.createElement('div');
                    item.className = 'product-item';
                    item.innerHTML = `
                        <a href="/produto/${product._id}">
                            <img src="${product.imagens && product.imagens[0] ? product.imagens[0] : 'compras/pagina de compras (1).png'}" alt="${product.nome}">
                            <div class="price">R$ ${Number(product.preco || 0).toFixed(2)}</div>
                            <p class="description">${product.nome}</p>
                            <p class="gender">${product.categoria}</p>
                        </a>
                    `;
                    container.appendChild(item);
                });
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
                document.getElementById('product-container').innerHTML = '<p>Erro ao carregar produtos.</p>';
            }
        }

        loadProducts();
    </script>
</body>
</html>
